{"ast":null,"code":"'use strict';\n\nrequire('es6-promise').polyfill();\nmodule.exports = function (fetch, defaults) {\n  defaults = defaults || {};\n  if (typeof fetch !== 'function') {\n    throw new ArgumentError('fetch must be a function');\n  }\n  if (typeof defaults !== 'object') {\n    throw new ArgumentError('defaults must be an object');\n  }\n  if (defaults.retries !== undefined && !isPositiveInteger(defaults.retries)) {\n    throw new ArgumentError('retries must be a positive integer');\n  }\n  if (defaults.retryDelay !== undefined && !isPositiveInteger(defaults.retryDelay) && typeof defaults.retryDelay !== 'function') {\n    throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n  }\n  if (defaults.retryOn !== undefined && !Array.isArray(defaults.retryOn) && typeof defaults.retryOn !== 'function') {\n    throw new ArgumentError('retryOn property expects an array or function');\n  }\n  var baseDefaults = {\n    retries: 3,\n    retryDelay: 1000,\n    retryOn: []\n  };\n  defaults = Object.assign(baseDefaults, defaults);\n  return function fetchRetry(input, init) {\n    var retries = defaults.retries;\n    var retryDelay = defaults.retryDelay;\n    var retryOn = defaults.retryOn;\n    if (init && init.retries !== undefined) {\n      if (isPositiveInteger(init.retries)) {\n        retries = init.retries;\n      } else {\n        throw new ArgumentError('retries must be a positive integer');\n      }\n    }\n    if (init && init.retryDelay !== undefined) {\n      if (isPositiveInteger(init.retryDelay) || typeof init.retryDelay === 'function') {\n        retryDelay = init.retryDelay;\n      } else {\n        throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n      }\n    }\n    if (init && init.retryOn) {\n      if (Array.isArray(init.retryOn) || typeof init.retryOn === 'function') {\n        retryOn = init.retryOn;\n      } else {\n        throw new ArgumentError('retryOn property expects an array or function');\n      }\n    }\n\n    // eslint-disable-next-line no-undef\n    return new Promise(function (resolve, reject) {\n      var wrappedFetch = function (attempt) {\n        fetch(input, init).then(function (response) {\n          if (Array.isArray(retryOn) && retryOn.indexOf(response.status) === -1) {\n            resolve(response);\n          } else if (typeof retryOn === 'function') {\n            if (retryOn(attempt, null, response)) {\n              retry(attempt, null, response);\n            } else {\n              resolve(response);\n            }\n          } else {\n            if (attempt < retries) {\n              retry(attempt, null, response);\n            } else {\n              resolve(response);\n            }\n          }\n        }).catch(function (error) {\n          if (typeof retryOn === 'function') {\n            if (retryOn(attempt, error, null)) {\n              retry(attempt, error, null);\n            } else {\n              reject(error);\n            }\n          } else if (attempt < retries) {\n            retry(attempt, error, null);\n          } else {\n            reject(error);\n          }\n        });\n      };\n      function retry(attempt, error, response) {\n        var delay = typeof retryDelay === 'function' ? retryDelay(attempt, error, response) : retryDelay;\n        setTimeout(function () {\n          wrappedFetch(++attempt);\n        }, delay);\n      }\n      wrappedFetch(0);\n    });\n  };\n};\nfunction isPositiveInteger(value) {\n  return Number.isInteger(value) && value >= 0;\n}\nfunction ArgumentError(message) {\n  this.name = 'ArgumentError';\n  this.message = message;\n}","map":{"version":3,"names":["require","polyfill","module","exports","fetch","defaults","ArgumentError","retries","undefined","isPositiveInteger","retryDelay","retryOn","Array","isArray","baseDefaults","Object","assign","fetchRetry","input","init","Promise","resolve","reject","wrappedFetch","attempt","then","response","indexOf","status","retry","catch","error","delay","setTimeout","value","Number","isInteger","message","name"],"sources":["/Users/josiah.huckins/Development/Perficient Blogging/react/aem-navigation-app/node_modules/fetch-retry/index.js"],"sourcesContent":["'use strict';\nrequire('es6-promise').polyfill();\n\nmodule.exports = function (fetch, defaults) {\n  defaults = defaults || {};\n  if (typeof fetch !== 'function') {\n    throw new ArgumentError('fetch must be a function');\n  }\n\n  if (typeof defaults !== 'object') {\n    throw new ArgumentError('defaults must be an object');\n  }\n\n  if (defaults.retries !== undefined && !isPositiveInteger(defaults.retries)) {\n    throw new ArgumentError('retries must be a positive integer');\n  }\n\n  if (defaults.retryDelay !== undefined && !isPositiveInteger(defaults.retryDelay) && typeof defaults.retryDelay !== 'function') {\n    throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n  }\n\n  if (defaults.retryOn !== undefined && !Array.isArray(defaults.retryOn) && typeof defaults.retryOn !== 'function') {\n    throw new ArgumentError('retryOn property expects an array or function');\n  }\n\n  var baseDefaults = {\n    retries: 3,\n    retryDelay: 1000,\n    retryOn: [],\n  };\n\n  defaults = Object.assign(baseDefaults, defaults);\n\n  return function fetchRetry(input, init) {\n    var retries = defaults.retries;\n    var retryDelay = defaults.retryDelay;\n    var retryOn = defaults.retryOn;\n\n    if (init && init.retries !== undefined) {\n      if (isPositiveInteger(init.retries)) {\n        retries = init.retries;\n      } else {\n        throw new ArgumentError('retries must be a positive integer');\n      }\n    }\n\n    if (init && init.retryDelay !== undefined) {\n      if (isPositiveInteger(init.retryDelay) || (typeof init.retryDelay === 'function')) {\n        retryDelay = init.retryDelay;\n      } else {\n        throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n      }\n    }\n\n    if (init && init.retryOn) {\n      if (Array.isArray(init.retryOn) || (typeof init.retryOn === 'function')) {\n        retryOn = init.retryOn;\n      } else {\n        throw new ArgumentError('retryOn property expects an array or function');\n      }\n    }\n\n    // eslint-disable-next-line no-undef\n    return new Promise(function (resolve, reject) {\n      var wrappedFetch = function (attempt) {\n        fetch(input, init)\n          .then(function (response) {\n            if (Array.isArray(retryOn) && retryOn.indexOf(response.status) === -1) {\n              resolve(response);\n            } else if (typeof retryOn === 'function') {\n              if (retryOn(attempt, null, response)) {\n                retry(attempt, null, response);\n              } else {\n                resolve(response);\n              }\n            } else {\n              if (attempt < retries) {\n                retry(attempt, null, response);\n              } else {\n                resolve(response);\n              }\n            }\n          })\n          .catch(function (error) {\n            if (typeof retryOn === 'function') {\n              if (retryOn(attempt, error, null)) {\n                retry(attempt, error, null);\n              } else {\n                reject(error);\n              }\n            } else if (attempt < retries) {\n              retry(attempt, error, null);\n            } else {\n              reject(error);\n            }\n          });\n      };\n\n      function retry(attempt, error, response) {\n        var delay = (typeof retryDelay === 'function') ?\n          retryDelay(attempt, error, response) : retryDelay;\n        setTimeout(function () {\n          wrappedFetch(++attempt);\n        }, delay);\n      }\n\n      wrappedFetch(0);\n    });\n  };\n};\n\nfunction isPositiveInteger(value) {\n  return Number.isInteger(value) && value >= 0;\n}\n\nfunction ArgumentError(message) {\n  this.name = 'ArgumentError';\n  this.message = message;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}